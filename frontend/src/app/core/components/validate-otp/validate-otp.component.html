<div class="min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex flex-col justify-center py-8 sm:px-6 lg:px-8">
   <div class="bg-white rounded-xl shadow-lg w-full max-w-md m-auto py-4">
    <div class="sm:mx-auto sm:w-full sm:max-w-md">
        <svg class="mx-auto h-12 w-auto text-[#8B9F82]" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2" fill="currentColor" />
          <line x1="6" y1="8" x2="18" y2="8" stroke="white" stroke-width="1.5" />
          <line x1="6" y1="12" x2="18" y2="12" stroke="white" stroke-width="1.5" />
          <line x1="6" y1="16" x2="14" y2="16" stroke="white" stroke-width="1.5" />
          <path d="M20 3l1 1-7 7-1-1 7-7z" fill="white" />
          <path d="M19 4l1 1-1 1-1-1 1-1z" fill="white" />
        </svg>
    
        <h2 class="mt-6 text-center text-2xl font-extrabold text-gray-600">
          Validate your one time password
        </h2>
      </div>
    
      <div class="max-w-md mx-auto text-center bg-white px-4 sm:px-8 py-8 rounded-xl">
        <header class="mb-6">
          <p class="text-sm text-slate-500">
            Enter the 4-digit verification code that was sent to your email.
          </p>
        </header>
    
        <form [formGroup]="otpForm" (ngSubmit)="onSubmit()">
          <div class="flex items-center justify-center gap-3 mb-6">
            @for (control of otpControlArray; track $index) {
            <input
              #otpInput
              type="text"
              [formControl]="control"
              (input)="handleInput($index)"
              (keydown)="handleKeyDown($event, $index)"
              (focus)="handleFocus($index)"
              (paste)="handlePaste($event)"
              class="w-14 h-14 text-center text-lg font-medium text-[#8B9F82] bg-[#8B9F82]/10 border border-transparent hover:border-[#8B9F82]/30 appearance-none rounded p-4 outline-none focus:bg-white focus:border-[#8B9F82]/40 focus:ring-2 focus:ring-[#8B9F82]/10"
              pattern="d*"
              maxlength="1"
            />
            }
          </div>
    
          <div class="max-w-full mx-auto">
            <button
              type="submit"
              [disabled]="!isComplete()"
              class="w-full inline-flex justify-center whitespace-nowrap rounded-lg bg-[#8B9F82] px-3.5 py-2.5 text-sm font-medium text-white shadow-sm hover:bg-[#8B9F82]/95 focus:outline-none focus:ring focus:ring-[#8B9F82]/30 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              @if(isLoading){
                <span class="spinner-border spinner-border-sm text-gray-600" role="status" aria-hidden="true"></span>
                <span class="ml-2">Verifying...</span>
              }@else {
                Validate OTP
              }
            </button>
          </div>
        </form>
    
        <div class="text-sm text-slate-500 mt-4">
          Didn't receive code?
          
            <a class="font-medium text-[#8B9F82] hover:text-[#8B9F82]/95 ml-1"
            href="#"
            (click)="resendCode($event)"
          >
            Resend
          </a>
        </div>
      </div>
   </div>
  </div>